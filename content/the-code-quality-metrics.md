+++
title = "代码质量衡量标准"
date = 2021-02-06 12:51:33
[taxonomies]
tags = ["programming"]
+++

## 可维护性 (maintainability)

常见的代码维护工作，大体上包括: 修复 Bug，修改已有的代码，添加新的代码。可维护性就是用来衡量上述工作的难度。

显而易见地，修改配置的难度小于修改编译参数，小于增加代码，小于改动已有代码。改动一处代码的难度小于改动多出代码，更小于改动不知道多少处代码。

易于维护就要求，在不破坏原有代码设计、引入新 Bug 低风险的情况下，能够快速修改或者添加代码。反之，则是不易于维护。

易于维护代码应该在兼具 **可读性** 的前提下，具有良好的模块化设计，做到高内聚低耦合，遵从面向接口而非实现的程序设计原则。

但是，可维护性是一个偏主观的衡量标准。一段代码的可维护性依赖于代码量、业务复杂度、知识背景、文档完善度还有开发开发者水平等诸多方面的因素。

同一段代码对于不同的开发者会具有不同的可维护性。

## 可读性 (readability)

> Martin Fowler:"Any fool can write code that a computer can understand. Good programmers write code that humans can understand."

代码被阅读的次数远超过被编写的次数，无论是学习编程、修改代码、添加代码还是进行 Code Review 时，都需要对代码进行阅读。

很多人都听说过 **可读性**，知道 **可读性** 很重要，但却并不重视。在实际写代码的时候，会为了 **编写上舒服**，为了 **自以为的高效**，为了 **炫技** 或者是其他什么原因，写出让其他人难以理解，甚至无法理解的代码。更有甚者，**看不懂若干月之前自己写的代码**。

个人认为，可读性应被看做最重要的衡量标准。因为，无论是修复 Bug 还是开发新功能，只有先读懂代码，才能得到自己需要的信息去完成接下来的工作。若是读都读不懂，那么轻则工作效率事倍功半，加班成为常态；重则引入 Bug 影响绩效。

衡量可读性可以从编码规范、命名、函数长度、模块划分、注释等方面切入。

检测可读性可以通过 Code Review，如果同事读你的代码有很多疑问就表示需要提高可读性了。

## 可扩展性 (extensibility)

代码的可扩展性表示代码应对未来需求变化的能力。

在添加新功能时，扩展性的高低反比与对已有代码修改的数量。修改的内容越少，则表示扩展性越好。如果能做到只通过扩展的方式添加新代码，而无需修改已有代码时，则表示代码具有非常好的可扩展性。

## 灵活性 (flexibility)

灵活性也是一个比较主观的衡量标准。例如:

* 代码具有非常好的可扩展性
* 底层模块抽象度高，封装良好，已于复用代码
* 接口可以应对各种使用场景，满足各种不同的需求

## 简洁性 (simplicity)

> KISS 原则: Kepp It Simple, Stupid.

保持代码简单、结构简洁、逻辑清晰。因为，越简单的代码，越易于理解。避免在代码中引入不必要的设计模式，或其他炫技的写法。

## 可复用性 (reusability)

大部分开发者一定听过可复用性，也一定听过 **Don't Repeat Yourself**，也明白同样的代码只写一次，但却很少有人能真正做到，或者说是不知道如何做:

* 面向对象的封装、继承、多态
* 单一职责原则
* 解耦，高内聚低耦合

## 可测试性 (testability)

编写易于单元测试的代码，如果为你的代码编写单元测试很困难，那你可能需要思考，你的一个函数或模块是不是做了太多的事情。
